(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e14a5d6"],{"18d2":function(t,e,n){"use strict";var i=n("18e9");t.exports=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function r(t,e){if(!s(t))throw new Error("Element is not detectable by this strategy.");function n(){e(t)}if(i.isIE(8))o(t).object={proxy:n},t.attachEvent("onresize",n);else{var r=s(t);r.contentDocument.defaultView.addEventListener("resize",n)}}function a(t,r,a){a||(a=r,r=t,t=null),t=t||{};t.debug;function s(t,r){var a="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",s=!1,d=window.getComputedStyle(t),c=t.offsetWidth,l=t.offsetHeight;function u(){function n(){if("static"===d.position){t.style.position="relative";var n=function(t,e,n,i){function o(t){return t.replace(/[^-\d\.]/g,"")}var r=n[i];"auto"!==r&&"0"!==o(r)&&(t.warn("An element that is positioned static has style."+i+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",e),e.style[i]=0)};n(e,t,d,"top"),n(e,t,d,"right"),n(e,t,d,"bottom"),n(e,t,d,"left")}}function c(){function e(t,n){t.contentDocument?n(t.contentDocument):setTimeout(function(){e(t,n)},100)}s||n();var i=this;e(i,function(e){r(t)})}""!==d.position&&(n(d),s=!0);var l=document.createElement("object");l.style.cssText=a,l.tabIndex=-1,l.type="text/html",l.setAttribute("aria-hidden","true"),l.onload=c,i.isIE()||(l.data="about:blank"),t.appendChild(l),o(t).object=l,i.isIE()&&(l.data="about:blank")}o(t).startSize={width:c,height:l},n?n.add(u):u()}i.isIE(8)?a(r):s(r,a)}function s(t){return o(t).object}function d(t){i.isIE(8)?t.detachEvent("onresize",o(t).object.proxy):t.removeChild(s(t)),delete o(t).object}return{makeDetectable:a,addListener:r,uninstall:d}}},"18e9":function(t,e,n){"use strict";var i=t.exports={};i.isIE=function(t){function e(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}if(!e())return!1;if(!t)return!0;var n=function(){var t,e=3,n=document.createElement("div"),i=n.getElementsByTagName("i");do{n.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(i[0]);return e>4?e:t}();return t===n},i.isLegacyOpera=function(){return!!window.opera}},"2a2d":function(t,e,n){},"2cef":function(t,e,n){"use strict";t.exports=function(){var t=1;function e(){return t++}return{generate:e}}},"49ad":function(t,e,n){"use strict";t.exports=function(t){var e={};function n(n){var i=t.get(n);return void 0===i?[]:e[i]||[]}function i(n,i){var o=t.get(n);e[o]||(e[o]=[]),e[o].push(i)}function o(t,e){for(var i=n(t),o=0,r=i.length;o<r;++o)if(i[o]===e){i.splice(o,1);break}}function r(t){var e=n(t);e&&(e.length=0)}return{get:n,add:i,removeListener:o,removeAllListeners:r}}},5058:function(t,e,n){"use strict";t.exports=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function i(t){var e=n(t);return e&&void 0!==e.id?e.id:null}function o(t){var i=n(t);if(!i)throw new Error("setId required the element to have a resize detection state.");var o=e.generate();return i.id=o,o}return{get:i,set:o}}},"50bf":function(t,e,n){"use strict";var i=t.exports={};function o(t,e,n){var i=t[e];return void 0!==i&&null!==i||void 0===n?i:n}i.getOption=o},"5be5":function(t,e,n){"use strict";t.exports=function(t){var e=t.stateHandler.getState;function n(t){var n=e(t);return n&&!!n.isDetectable}function i(t){e(t).isDetectable=!0}function o(t){return!!e(t).busy}function r(t,n){e(t).busy=!!n}return{isDetectable:n,markAsDetectable:i,isBusy:o,markBusy:r}}},"65aa":function(t,e,n){"use strict";var i=n("988e"),o=n.n(i);o.a},9406:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard_wrap"},[n("div",{staticClass:"dashboard_header"},[n("Box",{attrs:{header:"总销售额",description:"指标说明"}},[n("div",[n("div",{staticClass:"box_content"},[t._v("\n          ￥300,000\n        ")]),n("div",{staticClass:"content_box",attrs:{id:"chartId"}},[t._v("\n          周同比增长12% \n        ")]),n("div",{staticClass:"box_footer"},[n("div",{staticClass:"el_divider"},[n("el-divider")],1),n("div",{staticClass:"box_footer_content"},[t._v("\n            日均销售额￥ 12555.56\n          ")])])])]),n("Box",{attrs:{header:"访问次数",description:"访问次数"}},[n("div",[n("div",{staticClass:"box_content"},[t._v("\n          36,870\n        ")]),n("div",{staticClass:"chart_box",attrs:{id:"chartId"}},[n("div",{ref:"main",style:{width:t.chartWidth,height:t.chartHeight},attrs:{id:"main"}})]),n("div",{staticClass:"box_footer"},[n("div",{staticClass:"el_divider"},[n("el-divider")],1),n("div",{staticClass:"box_footer_content"},[t._v("\n            日访问量 1,234\n          ")])])])]),n("Box",{attrs:{header:"支付笔数",description:"支付笔数"}},[n("div",[n("div",{staticClass:"box_content"},[t._v("\n          22,122\n        ")]),n("div",{staticClass:"chart_box",attrs:{id:"chartId"}},[n("div",{ref:"main",style:{width:t.chartWidth,height:t.chartHeight},attrs:{id:"main2"}})]),n("div",{staticClass:"box_footer"},[n("div",{staticClass:"el_divider"},[n("el-divider")],1),n("div",{staticClass:"box_footer_content"},[t._v("\n            转化率 60%\n          ")])])])]),n("Box",{attrs:{header:"下单率",description:"指标说明"}},[n("div",[n("div",{staticClass:"box_content"},[t._v("\n          76%\n        ")]),n("div",{staticClass:"chart_box",attrs:{id:"chartId"}},[n("div",{ref:"main",style:{width:t.chartWidth,height:t.chartHeight},attrs:{id:"main3"}})]),n("div",{staticClass:"box_footer"},[n("div",{staticClass:"el_divider"},[n("el-divider")],1),n("div",{staticClass:"box_footer_content"},[t._v("\n            124125125\n          ")])])])])],1),n("div",{staticClass:"dashboard_charts"},[n("ve-histogram",{attrs:{data:t.chartData,settings:t.chartSettings}})],1)])},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header_box"},[n("div",{staticClass:"box_title"},[n("div",{staticClass:"box_title_left"},[t._v(t._s(t.header))]),n("div",{staticClass:"box_title_right"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.description,placement:"top"}},[n("span",{staticStyle:{cursor:"pointer"}},[n("i",{staticClass:"el-icon-warning-outline"})])])],1)]),t._t("default")],2)},a=[],s={name:"Box",props:{header:{},description:{}}},d=s,c=(n("65aa"),n("2877")),l=Object(c["a"])(d,r,a,!1,null,null,null),u=l.exports,h=n("eec4"),f=n.n(h),v={name:"Dashboard",components:{Box:u},data:function(){return this.chartSettings={axisSite:{right:["下单率"]},yAxisType:["KMB","percent"],yAxisName:["数值","比率"]},{chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]},eWidth:""}},created:function(){},mounted:function(){var t=this,e=f()();e.listenTo(document.getElementById("chartId"),function(e){e.offsetWidth,e.offsetHeight;t.$nextTick(function(){t.$echarts.init(document.getElementById("main")).resize(),t.$echarts.init(document.getElementById("main2")).resize(),t.$echarts.init(document.getElementById("main3")).resize()})}),this.drawChart(),this.drawChart2(),this.drawChart3()},methods:{ClientWidthChange:function(){window.onresize=function(){console.log("21515125 :",21515125)}},chart_box:function(){var t=this.$refs.chart_box.clientWidth;this.eWidth=t,console.log("eWidth",t)},drawChart:function(){var t=this.$echarts.init(document.getElementById("main")),e={color:["#409EFF"],tooltip:{position:function(t,e,n,i,o){var r=0,a=0,s=t[0],d=t[1],c=o.contentSize[0],l=o.contentSize[1];return r=c>s?5:s-c,a=l>d?5:d-l,[r,a]},trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{boundaryGap:!1,show:!1,type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{show:!1,type:"value"}],series:[{data:[820,932,901,934,1290,1330,1320],type:"line",areaStyle:{},smooth:!0}]};t.setOption(e)},drawChart2:function(){var t=this.$echarts.init(document.getElementById("main2")),e={color:["#409EFF"],tooltip:{position:function(t,e,n,i,o){var r=0,a=0,s=t[0],d=t[1],c=o.contentSize[0],l=o.contentSize[1];return r=c>s?5:s-c,a=l>d?5:d-l,[r,a]},trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{show:!1,boundaryGap:!1,type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{show:!1,type:"value"}],series:[{name:"访问次数",type:"bar",barWidth:"50%",data:[1e3,1e3,200,334,390,1e3,220]}]};t.setOption(e)},drawChart3:function(){var t=this.$echarts.init(document.getElementById("main3")),e={color:["#409EFF"],tooltip:{position:function(t,e,n,i,o){var r=0,a=0,s=t[0],d=t[1],c=o.contentSize[0],l=o.contentSize[1];return r=c>s?5:s-c,a=l>d?5:d-l,[r,a]},trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{show:!1,boundaryGap:!1,type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{show:!1,type:"value"}],series:[{data:[820,932,901,934,1290,1330,1320],type:"line"}]};t.setOption(e)}},watch:{},computed:{chartWidth:function(){return"100%"},chartHeight:function(){return"150px"}}},g=v,p=(n("af54"),Object(c["a"])(g,i,o,!1,null,null,null));e["default"]=p.exports},"988e":function(t,e,n){},abb4:function(t,e,n){"use strict";t.exports=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var i=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var n=0;n<arguments.length;n++)t(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}},af54:function(t,e,n){"use strict";var i=n("2a2d"),o=n.n(i);o.a},b770:function(t,e,n){"use strict";var i=t.exports={};i.forEach=function(t,e){for(var n=0;n<t.length;n++){var i=e(t[n]);if(i)return i}}},c274:function(t,e,n){"use strict";var i=n("50bf");function o(){var t={},e=0,n=0,i=0;function o(o,r){r||(r=o,o=0),o>n?n=o:o<i&&(i=o),t[o]||(t[o]=[]),t[o].push(r),e++}function r(){for(var e=i;e<=n;e++)for(var o=t[e],r=0;r<o.length;r++){var a=o[r];a()}}function a(){return e}return{add:o,process:r,size:a}}t.exports=function(t){t=t||{};var e=t.reporter,n=i.getOption(t,"async",!0),r=i.getOption(t,"auto",!0);r&&!n&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=o(),d=!1;function c(t,e){!d&&r&&n&&0===s.size()&&h(),s.add(t,e)}function l(){d=!0;while(s.size()){var t=s;s=o(),t.process()}d=!1}function u(t){d||(void 0===t&&(t=n),a&&(f(a),a=null),t?h():l())}function h(){a=v(l)}function f(t){var e=clearTimeout;return e(t)}function v(t){var e=function(t){return setTimeout(t,0)};return e(t)}return{add:c,force:u}}},c946:function(t,e,n){"use strict";var i=n("b770").forEach;t.exports=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState,r=(t.stateHandler.hasState,t.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=c(),s="erd_scroll_detection_scrollbar_style",d="erd_scroll_detection_container";function c(){var t=500,e=500,n=document.createElement("div");n.style.cssText="position: absolute; width: "+2*t+"px; height: "+2*e+"px; visibility: hidden; margin: 0; padding: 0;";var i=document.createElement("div");i.style.cssText="position: absolute; width: "+t+"px; height: "+e+"px; overflow: scroll; visibility: none; top: "+3*-t+"px; left: "+3*-e+"px; visibility: hidden; margin: 0; padding: 0;",i.appendChild(n),document.body.insertBefore(i,document.body.firstChild);var o=t-i.clientWidth,r=e-i.clientHeight;return document.body.removeChild(i),{width:o,height:r}}function l(t,e){function n(e,n){n=n||function(t){document.head.appendChild(t)};var i=document.createElement("style");return i.innerHTML=e,i.id=t,n(i),i}if(!document.getElementById(t)){var i=e+"_animation",o=e+"_animation_active",r="/* Created by the element-resize-detector library. */\n";r+="."+e+" > div::-webkit-scrollbar { display: none; }\n\n",r+="."+o+" { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+i+"; animation-name: "+i+"; }\n",r+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",r+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",n(r)}}function u(t){t.className+=" "+d+"_animation_active"}function h(t,n,i){if(t.addEventListener)t.addEventListener(n,i);else{if(!t.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+n,i)}}function f(t,n,i){if(t.removeEventListener)t.removeEventListener(n,i);else{if(!t.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+n,i)}}function v(t){return o(t).container.childNodes[0].childNodes[0].childNodes[0]}function g(t){return o(t).container.childNodes[0].childNodes[0].childNodes[1]}function p(t,e){var n=o(t).listeners;if(!n.push)throw new Error("Cannot add listener to an element that is not detectable.");o(t).listeners.push(e)}function b(t,s,c){function l(){if(t.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(r.get(s),"Scroll: "),e.log.apply)e.log.apply(null,n);else for(var i=0;i<n.length;i++)e.log(n[i])}}function f(t){function e(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}return!e(t)||null===window.getComputedStyle(t)}function p(t){var e=o(t).container.childNodes[0],n=window.getComputedStyle(e);return!n.width||-1===n.width.indexOf("px")}function b(){var t=window.getComputedStyle(s),e={};return e.position=t.position,e.width=s.offsetWidth,e.height=s.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function m(){var t=b();o(s).startSize={width:t.width,height:t.height},l("Element start size",o(s).startSize)}function y(){o(s).listeners=[]}function w(){if(l("storeStyle invoked."),o(s)){var t=b();o(s).style=t}else l("Aborting because element has been uninstalled")}function x(t,e,n){o(t).lastWidth=e,o(t).lastHeight=n}function E(t){return v(t).childNodes[0]}function S(){return 2*a.width+1}function _(){return 2*a.height+1}function C(t){return t+10+S()}function z(t){return t+10+_()}function A(t){return 2*t+S()}function k(t){return 2*t+_()}function T(t,e,n){var i=v(t),o=g(t),r=C(e),a=z(n),s=A(e),d=k(n);i.scrollLeft=r,i.scrollTop=a,o.scrollLeft=s,o.scrollTop=d}function H(){var t=o(s).container;if(!t){t=document.createElement("div"),t.className=d,t.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",o(s).container=t,u(t),s.appendChild(t);var e=function(){o(s).onRendered&&o(s).onRendered()};h(t,"animationstart",e),o(s).onAnimationStart=e}return t}function I(){function t(){var t=o(s).style;if("static"===t.position){s.style.position="relative";var n=function(t,e,n,i){function o(t){return t.replace(/[^-\d\.]/g,"")}var r=n[i];"auto"!==r&&"0"!==o(r)&&(t.warn("An element that is positioned static has style."+i+"="+r+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",e),e.style[i]=0)};n(e,s,t,"top"),n(e,s,t,"right"),n(e,s,t,"bottom"),n(e,s,t,"left")}}function n(t,e,n,i){return t=t?t+"px":"0",e=e?e+"px":"0",n=n?n+"px":"0",i=i?i+"px":"0","left: "+t+"; top: "+e+"; right: "+i+"; bottom: "+n+";"}if(l("Injecting elements"),o(s)){t();var i=o(s).container;i||(i=H());var r=a.width,c=a.height,u="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",f="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+n(-(1+r),-(1+c),-c,-r),v="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",g="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",p="position: absolute; left: 0; top: 0;",b="position: absolute; width: 200%; height: 200%;",m=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),x=document.createElement("div"),E=document.createElement("div"),S=document.createElement("div");m.dir="ltr",m.style.cssText=u,m.className=d,y.className=d,y.style.cssText=f,w.style.cssText=v,x.style.cssText=p,E.style.cssText=g,S.style.cssText=b,w.appendChild(x),E.appendChild(S),y.appendChild(w),y.appendChild(E),m.appendChild(y),i.appendChild(m),h(w,"scroll",_),h(E,"scroll",C),o(s).onExpandScroll=_,o(s).onShrinkScroll=C}else l("Aborting because element has been uninstalled");function _(){o(s).onExpand&&o(s).onExpand()}function C(){o(s).onShrink&&o(s).onShrink()}}function L(){function a(t,e,n){var i=E(t),o=C(e),r=z(n);i.style.width=o+"px",i.style.height=r+"px"}function d(i){var d=s.offsetWidth,u=s.offsetHeight;l("Storing current size",d,u),x(s,d,u),n.add(0,function(){if(o(s))if(c()){if(t.debug){var n=s.offsetWidth,i=s.offsetHeight;n===d&&i===u||e.warn(r.get(s),"Scroll: Size changed before updating detector elements.")}a(s,d,u)}else l("Aborting because element container has not been initialized");else l("Aborting because element has been uninstalled")}),n.add(1,function(){o(s)?c()?T(s,d,u):l("Aborting because element container has not been initialized"):l("Aborting because element has been uninstalled")}),i&&n.add(2,function(){o(s)?c()?i():l("Aborting because element container has not been initialized"):l("Aborting because element has been uninstalled")})}function c(){return!!o(s).container}function u(){function t(){return void 0===o(s).lastNotifiedWidth}l("notifyListenersIfNeeded invoked");var e=o(s);return t()&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?l("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?l("Not notifying: Size already notified"):(l("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void i(o(s).listeners,function(t){t(s)}))}function h(){if(l("startanimation triggered."),p(s))l("Ignoring since element is still unrendered...");else{l("Element rendered.");var t=v(s),e=g(s);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(l("Scrollbars out of sync. Updating detector elements..."),d(u))}}function f(){if(l("Scroll detected."),p(s))l("Scroll event fired while unrendered. Ignoring...");else{var t=s.offsetWidth,e=s.offsetHeight;t!==o(s).lastWidth||e!==o(s).lastHeight?(l("Element size changed."),d(u)):l("Element size has not changed ("+t+"x"+e+").")}}if(l("registerListenersAndPositionElements invoked."),o(s)){o(s).onRendered=h,o(s).onExpand=f,o(s).onShrink=f;var b=o(s).style;a(s,b.width,b.height)}else l("Aborting because element has been uninstalled")}function W(){if(l("finalizeDomMutation invoked."),o(s)){var t=o(s).style;x(s,t.width,t.height),T(s,t.width,t.height)}else l("Aborting because element has been uninstalled")}function D(){c(s)}function N(){l("Installing..."),y(),m(),n.add(0,w),n.add(1,I),n.add(2,L),n.add(3,W),n.add(4,D)}c||(c=s,s=t,t=null),t=t||{},l("Making detectable..."),f(s)?(l("Element is detached"),H(),l("Waiting until element is attached..."),o(s).onRendered=function(){l("Element is now attached"),N()}):N()}function m(t){var e=o(t);e&&(e.onExpandScroll&&f(v(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&f(g(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&f(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))}return l(s,d),{makeDetectable:b,addListener:p,uninstall:m}}},d6eb:function(t,e,n){"use strict";var i="_erd";function o(t){return t[i]={},r(t)}function r(t){return t[i]}function a(t){delete t[i]}t.exports={initState:o,getState:r,cleanState:a}},eec4:function(t,e,n){"use strict";var i=n("b770").forEach,o=n("5be5"),r=n("49ad"),a=n("2cef"),s=n("5058"),d=n("abb4"),c=n("18e9"),l=n("c274"),u=n("d6eb"),h=n("18d2"),f=n("c946");function v(t){return Array.isArray(t)||void 0!==t.length}function g(t){if(Array.isArray(t))return t;var e=[];return i(t,function(t){e.push(t)}),e}function p(t){return t&&1===t.nodeType}function b(t,e,n){var i=t[e];return void 0!==i&&null!==i||void 0===n?i:n}t.exports=function(t){var e;if(t=t||{},t.idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var n=a(),m=s({idGenerator:n,stateHandler:u});e=m}var y=t.reporter;if(!y){var w=!1===y;y=d(w)}var x=b(t,"batchProcessor",l({reporter:y})),E={};E.callOnAdd=!!b(t,"callOnAdd",!0),E.debug=!!b(t,"debug",!1);var S,_=r(e),C=o({stateHandler:u}),z=b(t,"strategy","object"),A={reporter:y,batchProcessor:x,stateHandler:u,idHandler:e};if("scroll"===z&&(c.isLegacyOpera()?(y.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),z="object"):c.isIE(9)&&(y.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),z="object")),"scroll"===z)S=f(A);else{if("object"!==z)throw new Error("Invalid strategy name: "+z);S=h(A)}var k={};function T(t,n,o){function r(t){var e=_.get(t);i(e,function(e){e(t)})}function a(t,e,n){_.add(e,n),t&&n(e)}if(o||(o=n,n=t,t={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(p(n))n=[n];else{if(!v(n))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=g(n)}var s=0,d=b(t,"callOnAdd",E.callOnAdd),c=b(t,"onReady",function(){}),l=b(t,"debug",E.debug);i(n,function(t){u.getState(t)||(u.initState(t),e.set(t));var h=e.get(t);if(l&&y.log("Attaching listener to element",h,t),!C.isDetectable(t))return l&&y.log(h,"Not detectable."),C.isBusy(t)?(l&&y.log(h,"System busy making it detectable"),a(d,t,o),k[h]=k[h]||[],void k[h].push(function(){s++,s===n.length&&c()})):(l&&y.log(h,"Making detectable..."),C.markBusy(t,!0),S.makeDetectable({debug:l},t,function(t){if(l&&y.log(h,"onElementDetectable"),u.getState(t)){C.markAsDetectable(t),C.markBusy(t,!1),S.addListener(t,r),a(d,t,o);var e=u.getState(t);if(e&&e.startSize){var f=t.offsetWidth,v=t.offsetHeight;e.startSize.width===f&&e.startSize.height===v||r(t)}k[h]&&i(k[h],function(t){t()})}else l&&y.log(h,"Element uninstalled before being detectable.");delete k[h],s++,s===n.length&&c()}));l&&y.log(h,"Already detecable, adding listener."),a(d,t,o),s++}),s===n.length&&c()}function H(t){if(!t)return y.error("At least one element is required.");if(p(t))t=[t];else{if(!v(t))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=g(t)}i(t,function(t){_.removeAllListeners(t),S.uninstall(t),u.cleanState(t)})}return{listenTo:T,removeListener:_.removeListener,removeAllListeners:_.removeAllListeners,uninstall:H}}}}]);